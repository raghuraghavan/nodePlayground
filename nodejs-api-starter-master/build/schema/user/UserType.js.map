{"version":3,"sources":["../../../src/schema/user/UserType.js"],"names":["name","interfaces","fields","id","displayName","type","resolve","parent","display_name","imageUrl","image_url","emails","args","ctx","user","emailsByUserId","load"],"mappings":";;;;;;;;;AASA;AACA;;AAEA,wC;AACA,+B,8FAbA;;;;;kJAgBe,+BAAsB,EACnCA,MAAM,MAD6B,EAEnCC,YAAY,qBAFuB;;AAInCC,UAAQ;AACNC,QAAI,kCADE;;AAGNC,iBAAa;AACXC,kCADW;AAEXC,cAAQC,MAAR,EAAgB;AACd,eAAOA,OAAOC,YAAd;AACD,OAJU,EAHP;;;AAUNC,cAAU;AACRJ,kCADQ;AAERC,cAAQC,MAAR,EAAgB;AACd,eAAOA,OAAOG,SAAd;AACD,OAJO,EAVJ;;;AAiBNC,YAAQ;AACNN,YAAM,6CADA;AAENC,cAAQC,MAAR,EAAgBK,IAAhB,EAAsBC,GAAtB,EAAoC;AAClC,eAAON,OAAOJ,EAAP,KAAcU,IAAIC,IAAJ,CAASX,EAAvB;AACHU,YAAIE,cAAJ,CAAmBC,IAAnB,CAAwBT,OAAOJ,EAA/B,CADG;AAEH,YAFJ;AAGD,OANK,EAjBF,EAJ2B,EAAtB,C","file":"UserType.js","sourcesContent":["/**\n * Copyright Â© 2016-present Kriasoft.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\n/* @flow */\n\nimport { GraphQLObjectType, GraphQLList, GraphQLString } from 'graphql';\nimport { globalIdField } from 'graphql-relay';\n\nimport EmailType from './EmailType';\nimport { nodeInterface } from '../node';\nimport type Context from '../../Context';\n\nexport default new GraphQLObjectType({\n  name: 'User',\n  interfaces: [nodeInterface],\n\n  fields: {\n    id: globalIdField(),\n\n    displayName: {\n      type: GraphQLString,\n      resolve(parent) {\n        return parent.display_name;\n      },\n    },\n\n    imageUrl: {\n      type: GraphQLString,\n      resolve(parent) {\n        return parent.image_url;\n      },\n    },\n\n    emails: {\n      type: new GraphQLList(EmailType),\n      resolve(parent, args, ctx: Context) {\n        return parent.id === ctx.user.id\n          ? ctx.emailsByUserId.load(parent.id)\n          : null;\n      },\n    },\n  },\n});\n"]}